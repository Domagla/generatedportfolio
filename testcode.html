<!doctype html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <!-- Tailwind via CDN for demo. In production, use your build pipeline. -->
  <script src="https://cdn.tailwindcss.com"></script>
  <title>Portfolio with Section Nav</title>
  <style>
    /* Optional: nicer focus outlines for keyboard users */
    :focus-visible { outline: 2px solid; outline-offset: 2px; }
  </style>
</head>
<body class="bg-neutral-50 text-neutral-900">
  <!-- If you have a fixed header, set an offset using scroll-mt-* on sections (see below). -->
  
  <!-- Floating "On this page" nav -->
  <nav
    aria-label="Section navigation"
    class="fixed top-4 left-4 z-50 max-h-[85vh] w-52 overflow-auto rounded-2xl border border-neutral-200 bg-white/90 p-3 shadow-xl backdrop-blur"
  >
    <p class="mb-2 px-2 text-xs font-semibold uppercase tracking-wide text-neutral-500">
      On this page
    </p>
    <ul id="toc" class="space-y-1">
      <!-- These hrefs must match section IDs -->
      <li><a href="#intro"   class="toc-link block rounded-lg px-3 py-2 text-sm text-neutral-700 hover:bg-neutral-100">Intro</a></li>
      <li><a href="#work"    class="toc-link block rounded-lg px-3 py-2 text-sm text-neutral-700 hover:bg-neutral-100">Selected Work</a></li>
      <li><a href="#audio"   class="toc-link block rounded-lg px-3 py-2 text-sm text-neutral-700 hover:bg-neutral-100">Audio Services</a></li>
      <li><a href="#contact" class="toc-link block rounded-lg px-3 py-2 text-sm text-neutral-700 hover:bg-neutral-100">Contact</a></li>
    </ul>
  </nav>

  <!-- Page content -->
  <main class="mx-auto max-w-4xl px-6 py-12 lg:px-8">
    <!-- Demo header (not fixed). If yours is fixed, add scroll-mt on sections accordingly. -->
    <header class="mb-12">
      <h1 class="text-4xl font-bold">Your Name — Portfolio</h1>
      <p class="mt-3 text-neutral-600">Engineer • Producer • Live Sound</p>
    </header>

    <!-- Each section has an ID and a scroll margin top.
         Adjust the arbitrary value if you have a fixed header (e.g., scroll-mt-[96px]) -->
    <section id="intro" class="scroll-mt-24 py-16 border-b border-neutral-200">
      <h2 class="text-2xl font-semibold mb-4">Intro</h2>
      <p class="text-neutral-700 leading-7">
        Short bio goes here. What you do, where you’re based, quick value prop, etc.
      </p>
    </section>

    <section id="work" class="scroll-mt-24 py-16 border-b border-neutral-200">
      <h2 class="text-2xl font-semibold mb-4">Selected Work</h2>
      <p class="text-neutral-700 leading-7">
        A few featured projects with links, images, or embedded audio players.
      </p>
      <div class="mt-6 grid gap-6 sm:grid-cols-2">
        <article class="rounded-2xl border border-neutral-200 p-4 shadow-sm">
          <h3 class="font-medium">Project A/B Mix</h3>
          <p class="text-sm text-neutral-600">Brief blurb.</p>
        </article>
        <article class="rounded-2xl border border-neutral-200 p-4 shadow-sm">
          <h3 class="font-medium">Live FOH</h3>
          <p class="text-sm text-neutral-600">Brief blurb.</p>
        </article>
      </div>
    </section>

    <section id="audio" class="scroll-mt-24 py-16 border-b border-neutral-200">
      <h2 class="text-2xl font-semibold mb-4">Audio Services</h2>
      <ul class="list-disc pl-6 text-neutral-700 leading-7">
        <li>Podcast editing & mixing</li>
        <li>Broadcast cleanup / loudness</li>
        <li>Live sound (FOH/monitors)</li>
      </ul>
    </section>

    <section id="contact" class="scroll-mt-24 py-16">
      <h2 class="text-2xl font-semibold mb-4">Contact</h2>
      <p class="text-neutral-700 leading-7">
        Email, booking form, Calendly, whatever works for you.
      </p>
    </section>
  </main>

  <script>
    // Smooth-scroll offset is handled by Tailwind's scroll-mt-* classes above.
    // This script highlights the active link as you scroll.
    const sections = [...document.querySelectorAll('section[id]')];
    const links = [...document.querySelectorAll('.toc-link')];
    const linkById = Object.fromEntries(
      links.map(a => [a.getAttribute('href').slice(1), a])
    );

    // Utility to update active link styles
    function setActive(id) {
      links.forEach(a => {
        a.classList.remove(
          'bg-neutral-900','text-white','font-medium','shadow',
          'ring-1','ring-neutral-200'
        );
        a.classList.add('text-neutral-700');
      });
      const active = linkById[id];
      if (active) {
        active.classList.remove('text-neutral-700');
        active.classList.add(
          'bg-neutral-900','text-white','font-medium','shadow','ring-1','ring-neutral-200'
        );
      }
    }

    // Observe which section is in view
    const observer = new IntersectionObserver((entries) => {
      // pick the entry closest to the top and intersecting
      const visible = entries
        .filter(e => e.isIntersecting)
        .sort((a,b) => a.boundingClientRect.top - b.boundingClientRect.top)[0];
      if (visible) setActive(visible.target.id);
    }, {
      root: null,
      rootMargin: '0px 0px -60% 0px', // trigger when the top 40% of viewport
      threshold: [0, 0.25, 0.5, 1]
    });

    sections.forEach(sec => observer.observe(sec));

    // Optional: close keyboard focus loop on click (keeps focus styles tidy)
    links.forEach(a => {
      a.addEventListener('click', () => {
        // small timeout so scrolling happens first
        setTimeout(() => a.blur(), 300);
      });
    });
  </script>
</body>
</html>